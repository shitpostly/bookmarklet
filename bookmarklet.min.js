javascript:(function(){let e=[];fetch("https://raw.githubusercontent.com/shitpostly/bookmarklet/master/sentences.txt").then(e=>e.text()).then(t=>{e=t.split("\n")});let t=document.activeElement,n="true"==t.contentEditable;("INPUT"==t.nodeName||"TEXTAREA"==t.nodeName||n)&&(t.classList.add("shitpostly-container"),t.addEventListener("keyup",function(l){if(l.keyCode<33||224==l.keycode)return;let i=function(t){if(!t)return;let n=t.split("\n"),l=n[n.length-1];for(let t=0;t<e.length;t++){let n=e[t],r=n.split(""),i="";for(let e=0;e<r.length;e++){i+=r[e];try{let t=a(i,/\(/g)-a(i,/\)/g),r=i+")".repeat(t);if(l.trim().toLowerCase().match("^"+r.trim().toLowerCase()+"$"))return c(n.substr(e+1))}catch(e){}}}}(r());if(i){let e=r().length;o=r().trim()+i,n?t.innerText=o:t.value=o;let l=r().length;if(n){let n=t.childNodes[0],r=document.createRange();r.setStart(n,e),r.setEnd(n,l);let a=window.getSelection();a.removeAllRanges(),a.addRange(r)}else t.setSelectionRange(e,l)}var o}));let l=document.createElement("STYLE");function r(){return n?t.innerText:t.value}function a(e,t){return(e.match(t)||[]).length}function c(e){if(!e)return;let t="",n=0,l=[];for(let r=0;r<e.length;r++)switch(e[r]){case"(":n++;break;case")":n--,l.includes(n)&&l.splice(l.indexOf(n),1);break;case"|":l.includes(n-1)||l.push(n-1);break;case"?":case"\\":break;default:0==l.length&&(t+=e[r])}return t}l.innerHTML=".shitpostly-container::selection{color:#fff;background-color:#2bb673}",document.head.appendChild(l)})();
